<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="css/H-ui.min.css" />
        <link rel="stylesheet" type="text/css" href="css/base.css" />
        <link rel="stylesheet" type="text/css" href="css/H-ui.login.css" />
        <link rel="stylesheet" type="text/css" href="css/Hui-iconfont/1.0.8/iconfont.css" />
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <style type="text/css">
            #title{
                position: absolute;left: 20px;top: 20px;height: 60px;width: 1200px;z-index: 10;
            }
            #title h1{
                height: 36px;font-size: 26px;font-weight: 900;color: #333;text-align: center;margin: 30px auto;
            }
            .denglu{
              width: 200px;height: 26px;margin: 20px 0 0 385px;color: #666;
            }
            .denglu a{
              text-decoration: underline;
            }
        </style>
    </head>
    <body>
        <div id="title">
            <h1>用户登录界面</h1>
        </div>
        <div class="loginWraper">
          <div id="loginform" class="loginBox">
            <form class="form form-horizontal" action="index.html" method="post">
              <div class="row cl">
                <label class="form-label col-xs-3"><i class="Hui-iconfont">&#xe60d;</i></label>
                <div class="formControls col-xs-8">
                  <input id="mail" name="" type="email" placeholder="邮箱账户" class="input-text size-L">
                </div>
              </div>
              <div class="row cl">
                <label class="form-label col-xs-3"><i class="Hui-iconfont">&#xe60e;</i></label>
                <div class="formControls col-xs-8">
                  <input id="password" name="" type="password" placeholder="密码" class="input-text size-L">
                </div>
              </div>
              <div class="row cl">
                <div class="formControls col-xs-8 col-xs-offset-3">
                  <input name="" type="button" class="btn btn-success radius size-L" value="&nbsp;&nbsp;登&nbsp;&nbsp;&nbsp;&nbsp;录&nbsp;&nbsp;">
                </div>
              </div>
            </form>
            <div class="denglu">
              还没有账号？ <a href="./reg.html">免费注册</a>
            </div>
          </div>
        </div>

        <script type="text/javascript">

          var OL_Action_Root = "http://127.0.0.1:3000";

 
            // 验证，登录
            $('.btn-success').on('click',function(){

                var mail = $('#mail').val();
                var password = $('#password').val();

                if(mail == '' || password == ''){
                  alert('输入框不能为空！');
                }

                // console.log(mail,password);

                $.ajax({

                     url: OL_Action_Root+'/mailReg/login',
                     type: 'POST',
                     data: {
                        mail: mail,
                        password: password
                     },
                     async: true,

                     success: function(data){
                        // console.log(data);
                        if(data == '1'){
                          alert('登录成功！');
                          location.href = './index.html';
                          
                        }else if(data == '0'){
                          alert('账号或者密码填写错误！');
                        }
                     }

                });

            });


        </script>
  

    </body>
</html> 